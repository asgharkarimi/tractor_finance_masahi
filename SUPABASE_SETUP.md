# راهنمای راه‌اندازی Supabase

## مراحل نصب:

### 1. ایجاد جداول در Supabase

1. به پنل Supabase خود بروید: https://lljsleoqzrxscnzzlynq.supabase.co
2. از منوی سمت چپ، گزینه **SQL Editor** را انتخاب کنید
3. محتویات فایل `supabase_schema.sql` را کپی کرده و در SQL Editor قرار دهید
4. دکمه **Run** را بزنید تا جداول ایجاد شوند

### 2. بررسی جداول

بعد از اجرای SQL، باید 3 جدول زیر ایجاد شده باشند:
- `farmers` - اطلاعات کشاورزان
- `lands` - اطلاعات زمین‌های هر کشاورز
- `payments` - اطلاعات پرداختی‌های هر کشاورز

### 3. استفاده از اپلیکیشن

اپلیکیشن به صورت خودکار با Supabase همگام‌سازی می‌شود:

#### همگام‌سازی خودکار:
- هر بار که کشاورز جدیدی اضافه می‌کنید، به Supabase ارسال می‌شود
- هر بار که کشاورزی را ویرایش می‌کنید، در Supabase به‌روزرسانی می‌شود
- هر بار که کشاورزی را حذف می‌کنید، از Supabase هم حذف می‌شود

#### همگام‌سازی دستی:
در صفحه **تنظیمات** می‌توانید:
1. **ارسال به سرور**: تمام داده‌های محلی را به Supabase ارسال کنید
2. **دریافت از سرور**: تمام داده‌ها را از Supabase دریافت و جایگزین داده‌های محلی کنید

## اطلاعات اتصال:

- **URL**: https://lljsleoqzrxscnzzlynq.supabase.co
- **API Key**: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsanNsZW9xenJ4c2NuenpseW5xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3Njk0MjAsImV4cCI6MjA3NzM0NTQyMH0.SK98VbJ1cXjbyxvLdBwYqbNM1GVOg4fbUXqkTRcimGo

## نکات مهم:

✅ **تصاویر**: تصاویر زمین‌ها به صورت خودکار در Supabase Storage ذخیره می‌شوند و هنگام دانلود، به صورت خودکار دانلود می‌شوند.

✅ **Storage Bucket**: یک bucket با نام `land-images` ایجاد می‌شود که تصاویر در آن ذخیره می‌شوند.

✅ **امنیت**: در حال حاضر، همه کاربران می‌توانند به داده‌ها دسترسی داشته باشند. برای محدود کردن دسترسی، باید Row Level Security (RLS) را پیکربندی کنید.

## عیب‌یابی:

اگر خطای اتصال دریافت کردید:
1. اتصال اینترنت خود را بررسی کنید
2. مطمئن شوید که جداول در Supabase ایجاد شده‌اند
3. URL و API Key را بررسی کنید
